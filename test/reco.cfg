process Rec =
{
   service = MessageLogger
   {
      untracked vstring destinations = {"cout"}
      untracked PSet cout =
      {
         untracked PSet default = { untracked int32 limit = 0 }
      }
   }

   source = PoolSource {
	untracked vstring fileNames = {
	'file:diem.root'
        }
   }


   service = Timing {}
   untracked PSet maxEvents = {untracked int32 input = -1}

   include "Configuration/StandardSequences/data/Simulation.cff"
   include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"
   include "Configuration/StandardSequences/data/MixingNoPileUp.cff"
   include "Configuration/StandardSequences/data/FakeConditions.cff"
   include "Configuration/StandardSequences/data/Digi.cff"
   include "Configuration/StandardSequences/data/Reconstruction.cff"

    #path p1 = {psim} # simulation
    #path p2 = {pdigi} # digitization
    path p3 = {reconstruction} # reconstruction

   # Event output
   include "Configuration/EventContent/data/EventContent.cff"

   module FEVT = PoolOutputModule 
   { 
        untracked string fileName = "diem_reco.root"
	#untracked vstring outputCommands = {
	#    "drop *",
	#    "keep edmHepMCProduct_*_*_*",
        #    "keep recoBasicClusters_*_*_*",
        #    "keep recoSuperClusters_*_*_*",
        #    "keep recoClusterShapes_*_*_*",
        #    "keep recoPreshowerClusters_*_*_*",
        #    "keep EcalRecHitsSorted_*_*_*",
        #    "keep EcalUncalibratedRecHitsSorted_*_*_*"  
        #}
   }
   endpath outpath = {FEVT}

   schedule = {p3,outpath}


}


