process SIMDIGI = 
{
  untracked PSet maxEvents = {untracked int32 input = 20 }

  include "Configuration/StandardSequences/data/FakeConditions.cff"
#  include "Configuration/StandardSequences/data/FrontierConditions.cff"
  include "FWCore/MessageService/data/MessageLogger.cfi"

   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 123456789 
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 1 
         untracked uint32 g4SimHits = 12 
         untracked uint32 siPixelDigis = 123 
         untracked uint32 siStripDigis = 1234
         untracked uint32 ecalUnsuppressedDigis = 12345 
         untracked uint32 hcalDigis = 123456  
         untracked uint32 muonCSCDigis = 1234567 
         untracked uint32 muonDTDigis = 12345678 
         untracked uint32 muonRPCDigis = 123456789
         untracked uint32 hcalUnsuppressedDigis = 123456781 
      }
   }

  include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"    

  untracked PSet options = 
  {
    include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
    untracked bool wantSummary = true
    untracked bool makeTriggerResults = true 
  }

  source = FlatRandomEGunSource
  {
    string psethack  = "di-ele with 5 < E < 750"
    untracked uint32 firstRun  =  1
    untracked PSet PGunParameters =
    {
      untracked vint32 PartID = {11}
      untracked double MinEta = -2.5   #-2.9
      untracked double MaxEta =  2.5   #2.9
      untracked double MinPhi = -3.14159265358979323846 # in radians
      untracked double MaxPhi =  3.14159265358979323846
      untracked double MinE   =  5.0
      untracked double MaxE   =  750.0
    }    
    untracked bool AddAntiParticle = true # back-to-back particles
    untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
  }
   
  include "Configuration/StandardSequences/data/Generator.cff"
  include "Configuration/StandardSequences/data/Reconstruction.cff"
  include "Configuration/StandardSequences/data/Simulation.cff"
  include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
  include "Configuration/StandardSequences/data/VtxSmearedGauss.cff" 
  include "Configuration/StandardSequences/data/L1Emulator.cff"

  path p0 = {pgen} # generator information
  path p1 = {psim} # simulation
  path p2 = {pdigi} # digitization
  #path p3 = {reconstruction_plusRS} # reconstruction
  #path p4 = {L1Emulator}

  include "Configuration/EventContent/data/EventContent.cff"

  module FEVT = PoolOutputModule 
  { 
    #using FEVTSIMEventContent
    untracked string fileName = "diem.root"
    #untracked PSet dataset =
    #{	
    #  untracked string dataTier = "GEN-SIM-DIGI-RECO"
    #}
    untracked vstring outputCommands = {
     "keep *"
    }
  }

  endpath outpath = {FEVT}

  #schedule = {p0,p1,p2,p3,p4,outpath}
  schedule = {p0,p1,p2,outpath}
}



